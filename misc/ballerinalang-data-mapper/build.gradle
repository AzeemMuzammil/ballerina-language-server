//apply from: "$rootDir/gradle/javaProject.gradle"
apply from: "$rootDir/gradle/javaProjectWithExtBalo.gradle"
apply from: "$rootDir/gradle/baseNativeStdLibProject.gradle"

//configurations.all {
//    resolutionStrategy {
//        preferProjectModules()
//    }
//}
//
//configurations {
//    dist {
//        transitive false
//    }
//    dependency {
//        transitive false
//    }
//    libs
//}

dependencies {
    implementation project(':ballerina-lang')
    implementation project(':ballerina-parser')
    implementation project(':ballerina-runtime')
    implementation project(':ballerina-parser')
    implementation project(':language-server:language-server-commons')
    implementation project(':language-server:language-server-compiler')
    implementation project(':language-server:language-server-core')
    implementation project(':language-server:language-server-cli')
//    implementation project(':openapi-ballerina:openapi-validator')
//    implementation project(':openapi-ballerina:openapi-to-ballerina-generator')
//    implementation project(':openapi-ballerina:ballerina-to-openapi-generator')

    // Standard libs
//    implementation project(':ballerina-auth')
//    implementation project(':ballerina-lang:annotations')
//    implementation project(':ballerina-cache')
//    implementation project(':ballerina-config-api')
//    implementation project(':ballerina-crypto')
//    implementation project(':ballerina-java')
//    implementation project(':ballerina-email')
//    implementation project(':ballerina-file')
//    implementation project(':ballerina-filepath')
//    implementation project(':ballerina-grpc')
//    implementation project(':ballerina-http')
//    implementation project(':ballerina-io')
//    implementation project(':ballerina-ldap')
//    implementation project(':ballerina-log-api')
//    implementation project(':ballerina-math')
////    implementation project(':ballerina-rabbitmq')
//    implementation project(':ballerina-mime')
//    implementation project(':ballerina-nats')
//    implementation project(':ballerina-oauth2')
//    implementation project(':ballerina-observability')
//    implementation project(':ballerina-openapi')
//    implementation project(':ballerina-reflect')
//    implementation project(':ballerina-system')
//    implementation project(':ballerina-task')
//    implementation project(':ballerina-time')
//    implementation project(':ballerina-transactions')
//    implementation project(':ballerina-sql')
//    implementation project(':ballerina-mysql')
//    implementation project(':testerina:testerina-core')
//    implementation project(':ballerina-tool')

    implementation(group: 'org.eclipse.lsp4j', name: 'org.eclipse.lsp4j', version: '0.8.1')

    compile 'com.fasterxml.jackson.core:jackson-databind:2.1.2'

    testCompile 'org.testng:testng'
}

test {
    systemProperty "ballerina.home", "$buildDir/ballerina-home/main/"
    systemProperty "experimental", "true"
    systemProperty "ballerina.version", project.version
    useTestNG() {
        suites 'src/test/resources/testing.xml'
    }
}

//CopySpec copyJarSpec = copySpec {
//    from configurations.dependency
//    into("lib")
//}

//test {
//    useJUnitPlatform()
//}

sourceCompatibility = 1.8
